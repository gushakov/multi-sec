<VirtualHost *:80>
    ServerName localhost


    # CustomLog with explicit format string
    #CustomLog "/var/log/apache2/custom.log" " %h %l %u %t \"%r\" %>s %b ....... %{foobar}e "



    # SetEnvIf Cookie "sticky=(.+);" foobar=$1
    
    # from https://stackoverflow.com/a/406408
    # SetEnvIf Cookie "^(.(?!sticky=))*$" foobar=app


    # https://httpd.apache.org/docs/2.4/en/mod/mod_proxy.html

    # ProxyPassInterpolateEnv On

   <Proxy "balancer://app-cluster">
        BalancerMember "http://app-1:8080/"  
        BalancerMember "http://app-2:8080/"
    </Proxy> 

   ProxyPass "/" "balancer://app-cluster/"
   ProxyPassReverse "/" "balancer://app-cluster/"

</VirtualHost>